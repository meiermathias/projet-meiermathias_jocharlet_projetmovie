{"version":3,"sources":["scripts/app.js"],"names":["capitalize","text","toUpperCase","slice","toLowerCase","movieController","$stateParams","$http","$ctrl","this","movieId","get","then","result","movie","data","movieReleaseDate","routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","hashPrefix","otherwise","state","template","url","$inject","angular","module","service","Save","save","toBeSaved","toBeStored","JSON","stringify","localStorage","setItem","load","unString","getItem","parse","filter","component","templateUrl","controller","mInput","maListe","ajouterAListe","$id","$title","$overview","$poster","newItem","id","title","overview","poster","push","suprimmerAListe","$index","splice","el","indexOf","bindings","movies","results","maVariable","run","$templateCache","put","config"],"mappings":"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","file":"scripts/app-e7a756af68.js","sourcesContent":["angular\n  .module('app', ['ui.router', 'ngFlag']);\n\nangular\n    .module('app')\n    .service('Save', function () {\n      var Save = this;\n      Save.save = function (toBeSaved) {\n        var toBeStored = JSON.stringify(toBeSaved);\n        // var idStored = JSON.stringify(toBeSaved.id);\n        localStorage.setItem('saved', toBeStored);\n      };\n      Save.load = function () {\n        var unString = localStorage.getItem('saved');\n        if (unString) {\n          return JSON.parse(unString);\n        }\n        return [];\n      };\n    });\n\n  angular\n    .module('app')\n    .service('load', function () {\n      var load = this;\n      load.load = function () {\n        var unString = localStorage.getItem('saved');\n        if (unString) {\n          return JSON.parse(unString);\n        }\n        return [];\n      };\n    });\n\nfunction capitalize() {\n  return function (text) {\n    return text[0].toUpperCase() + text.slice(1).toLowerCase();\n  };\n}\n\nangular\n  .module('app')\n  .filter('capitalize', capitalize);\n\n\nangular\n  .module('app')\n  .component('poster', {\n    templateUrl: 'app/poster.html',\n    controller: function (Save, load) {\n      var $ctrl = this;\n      $ctrl.mInput = 'test';\n      $ctrl.maListe = load.load();\n\n      $ctrl.ajouterAListe = function ($id, $title, $overview, $poster) {\n        var newItem = {id: $id, title: $title, overview: $overview, poster: $poster};\n        $ctrl.maListe.push(newItem);\n        Save.save($ctrl.maListe);\n      };\n\n      $ctrl.suprimmerAListe = function ($index) {\n        $ctrl.maListe.splice($index, 1);\n      };\n\n      $ctrl.suprimmerAListe = function (el) {\n        $ctrl.maListe.splice($ctrl.maListe.indexOf(el), 1);\n      };\n    },\n    bindings: {\n      movie: '<'\n    }\n  });\n\nfunction movieController($stateParams, $http) {\n  var $ctrl = this;\n  $ctrl.text = $stateParams.movieId;\n  $http.get('https://amc.ig.he-arc.ch/tmdb/movie/' + $stateParams.movieId + '?language=fr')\n  .then(function (result) {\n    $ctrl.movie = result.data;\n  });\n  $http.get('https://amc.ig.he-arc.ch/tmdb/movie/' + $stateParams.movieId + '/release_dates')\n  .then(function (result) {\n    $ctrl.movieReleaseDate = result.data;\n  });\n}\n\nangular\n  .module('app')\n  .component('movie', {\n    templateUrl: 'app/movie.html',\n    controller: movieController\n  });\n\nangular\n  .module('app')\n  .component('home', {\n      // localStorage.removeItem('saved');\n    templateUrl: 'app/home.html',\n    controller: function (Save, load, $http) {\n      var $ctrl = this;\n      $http.get('https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr')\n      .then(function (result) {\n        $ctrl.movies = result.data.results;\n      });\n\n      $ctrl.maVariable = 'Hello';\n      $ctrl.maListe = load.load();\n\n      $ctrl.ajouterAListe = function () {\n        $ctrl.maListe.push($ctrl.maVariable);\n        Save.save($ctrl.maListe);\n      };\n\n      $ctrl.suprimmerAListe = function ($index) {\n        $ctrl.maListe.splice($index, 1);\n      };\n\n      $ctrl.suprimmerAListe = function (el) {\n        $ctrl.maListe.splice($ctrl.maListe.indexOf(el), 1);\n      };\n    }\n  });\n\nangular.module('app').component('app', {templateUrl: 'app/hello.html'});\n\nangular\n  .module('app')\n  .component('favorit', {\n    templateUrl: 'app/favorit.html',\n    controller: function favoritController(Save, load, $http) {\n      var $ctrl = this;\n      $http.get('https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr')\n      .then(function (result) {\n        $ctrl.movies = result.data.results;\n      });\n      $ctrl.maListe = load.load();\n\n      $ctrl.suprimmerAListe = function ($index) {\n        $ctrl.maListe.splice($index, 1);\n      };\n\n      $ctrl.suprimmerAListe = function (el) {\n        $ctrl.maListe.splice($ctrl.maListe.indexOf(el), 1);\n      };\n    }\n  });\n\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/favorit.html\",\"<h1>Vos favoris</h1>\\n<div ng-repeat=\\\"movie in $ctrl.maListe track by $index\\\" ng-if=\\\"$index % 3 == 0\\\" class=\\\"row\\\">\\n    <div class=\\\"col-md-4\\\"><poster movie=\\\"{index:$index, id:$ctrl.maListe[$index].id, poster_path:$ctrl.maListe[$index].poster, overview:$ctrl.maListe[$index].overview, title:$ctrl.maListe[$index].title}\\\"></poster></div>\\n    <div class=\\\"col-md-4\\\" ng-if=\\\"$ctrl.maListe.length > ($index + 1)\\\"><poster movie=\\\"{id:$ctrl.maListe[$index+1].id, poster_path:$ctrl.maListe[$index+1].poster, overview:$ctrl.maListe[$index+1].overview, title:$ctrl.maListe[$index+1].title}\\\"></poster></div>\\n    <div class=\\\"col-md-4\\\" ng-if=\\\"$ctrl.maListe.length > ($index + 2)\\\"><poster movie=\\\"{id:$ctrl.maListe[$index+2].id, poster_path:$ctrl.maListe[$index+2].poster, overview:$ctrl.maListe[$index+2].overview, title:$ctrl.maListe[$index+2].title}\\\"></poster></div>\\n</div>\\n\");\n$templateCache.put(\"app/hello.html\",\"<ui-view></ui-view>\\n\");\n$templateCache.put(\"app/home.html\",\"<div class=\\\"row\\\">\\n  <div class=\\\"jumbotron\\\">\\n\\n  </div>\\n</div>\\n\\n<!--\\n<div class=\\\"row\\\">\\n      <div class=\\\"col-md12\\\">\\n        <poster ng-repeat=\\\"m in $ctrl.movies\\\" movie=\\\"{id:m.id, poster_path:m.poster_path}\\\"></poster>\\n      </div>\\n</div>\\n-->\\n    <div ng-repeat=\\\"m in $ctrl.movies\\\" ng-if=\\\"$index % 3 == 0\\\" class=\\\"row\\\">\\n        <div class=\\\"col-md-4\\\"><poster movie=\\\"{index:$index, id:$ctrl.movies[$index].id, poster_path:$ctrl.movies[$index].poster_path, overview:$ctrl.movies[$index].overview, title:$ctrl.movies[$index].title}\\\"></poster></div>\\n        <div class=\\\"col-md-4\\\" ng-if=\\\"$ctrl.movies.length > ($index + 1)\\\"><poster movie=\\\"{id:$ctrl.movies[$index+1].id, poster_path:$ctrl.movies[$index+1].poster_path, overview:$ctrl.movies[$index+1].overview, title:$ctrl.movies[$index+1].title}\\\"></poster></div>\\n        <div class=\\\"col-md-4\\\" ng-if=\\\"$ctrl.movies.length > ($index + 2)\\\"><poster movie=\\\"{id:$ctrl.movies[$index+2].id, poster_path:$ctrl.movies[$index+2].poster_path, overview:$ctrl.movies[$index+2].overview, title:$ctrl.movies[$index+2].title}\\\"></poster></div>\\n    </div>\\n\\n<!--\\n<div class=\\\"row\\\">\\n      <div class=\\\"col-md12\\\">\\n        <ul>\\n          <li ng-repeat=\\\"movie in $ctrl.movies\\\">\\n            <a ui-sref=\\\"app.movie({movieId: movie.id})\\\">  <img  ng-src=\\\"http://image.tmdb.org/t/p/w185/{{movie.poster_path}}\\\" alt=\\\"Description\\\" /> </a>\\n          </li>\\n        </ul>\\n      </div>\\n</div>\\n\\n-->\\n\");\n$templateCache.put(\"app/liste.html\",\"<div class=\\\"row\\\">\\n  <div class=\\\"jumbotron\\\">\\n    <h1>Hello World!</h1>\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-md6\\\">\\n    <div class=\\\"form-group\\\">\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"input\\\" ng-model=\\\"$ctrl.maVariable\\\">\\n    </div>\\n  </div>\\n      <div class=\\\"col-md6\\\">\\n          <h2>Afficher</h2>\\n        <!--  <p>{{$ctrl.capitalize($ctrl.maVariable)}}</p> -->\\n        <p>\\n          {{$ctrl.maVariable | capitalize}}\\n        </p>\\n        <p>\\n          {{$ctrl.maListe}}\\n        </p>\\n        <ul>\\n          <li ng-repeat=\\\"el in $ctrl.maListe track by $index\\\">\\n            <h1 ng-if=\\\"$index == $ctrl.maListe.length / 2\\\">Je suis le milieu!</h1>\\n            {{$index + 1}} {{el | capitalize}}\\n\\n          </li>\\n        </ul>\\n      </div>\\n      <button ng-click=\\\"$ctrl.ajouterAListe()\\\" class=\\\"btn btn-primary\\\">Ajouter</button>\\n</div>\\n\");\n$templateCache.put(\"app/movie.html\",\"<div class=\\\"row\\\">\\n  <div class=\\\"col-md-3\\\">\\n <img onerror=\\\"this.src=\\'http://loremflickr.com/185/252/sexygirl\\'\\\" ng-src=\\\"https://image.tmdb.org/t/p/w185/{{$ctrl.movie.poster_path}}\\\" alt=\\\"Poster\\\">\\n  </div>\\n  <div class=\\\"col-md-9\\\">\\n    <h1>{{$ctrl.movie.title}}</h1>\\n    <h5>{{$ctrl.movie.original_title}}</h5>\\n    <p><strong>Genre :</strong> <span ng-repeat=\\\"genre in $ctrl.movie.genres\\\">{{genre.name}} </span></p>\\n\\n    <p>\\n      <strong>Date de sortie : </strong> <br>\\n      <span ng-repeat=\\\"result in $ctrl.movieReleaseDate.results\\\">\\n        <span ng-repeat=\\\"rdate in result.release_dates\\\" ng-if=\\\"result.iso_3166_1 == \\'FR\\'\\\">\\n          <flag country=\\\"fr\\\" size=\\\"16\\\"></flag>\\n          {{rdate.release_date | limitTo:10}} <br>\\n        </span>\\n        <span ng-repeat=\\\"rdate in result.release_dates\\\" ng-if=\\\"result.iso_3166_1 == \\'US\\'\\\">\\n          <flag country=\\\"us\\\" size=\\\"16\\\"></flag>\\n          {{rdate.release_date | limitTo:10}}  <br>\\n        </span>\\n        <span ng-repeat=\\\"rdate in result.release_dates\\\" ng-if=\\\"result.iso_3166_1 == \\'DE\\'\\\">\\n          <flag country=\\\"de\\\" size=\\\"16\\\"></flag>\\n          {{rdate.release_date | limitTo:10}} <br>\\n        </span>\\n        <span ng-repeat=\\\"rdate in result.release_dates\\\" ng-if=\\\"result.iso_3166_1 == \\'IT\\'\\\">\\n          <flag country=\\\"it\\\" size=\\\"16\\\"></flag>\\n          {{rdate.release_date | limitTo:10}} \\n        </span>\\n      </span>\\n    </p>\\n    <p><strong>Résumé : </strong>{{$ctrl.movie.overview}}</p>\\n  </div>\\n</div>\\n<!-- {{result.iso_3166_1}} -->\");\n$templateCache.put(\"app/poster.html\",\"<div class=\\\"poster thumbnail\\\">\\n  <a ui-sref=\\\"app.movie({movieId: $ctrl.movie.id})\\\"> <img class=\\\"imgPoster\\\" onerror=\\\"this.src=\\'http://loremflickr.com/185/252/sexygirl\\'\\\" ng-src=\\\"https://image.tmdb.org/t/p/w185{{$ctrl.movie.poster_path}}\\\" alt=\\\"Poster\\\"></a>\\n      <span ng-click=\\\"$ctrl.ajouterAListe($ctrl.movie.id, $ctrl.movie.title,  $ctrl.movie.overview,  $ctrl.movie.poster_path)\\\" class=\\\"glyphicon glyphicon-star-empty\\\" aria-hidden=\\\"true\\\"></span>\\n     <span ng-click=\\\"$index\\\" class=\\\"glyphicon glyphicon-star\\\" aria-hidden=\\\"true\\\"></span>\\n  <div class=\\\"caption\\\">\\n    <h3>{{$ctrl.movie.title | limitTo: 50 }}{{$ctrl.movie.title.length > 50 ? \\'...\\' : \\'\\'}}</h3>\\n    <p class=\\\"desc\\\">{{$ctrl.movie.overview | limitTo: 230 }}{{$ctrl.movie.overview.length > 230 ? \\'...\\' : \\'\\'}}</p>\\n    </div>\\n</div>\\n\");}]);\nangular\n  .module('app')\n  .config(routesConfig);\n\n/** @ngInject */\nfunction routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n  $locationProvider.html5Mode(false).hashPrefix('!');\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n    .state('app', {\n      template: '<app></app>'\n    })\n    .state('app.home', {\n      url: '/',\n      template: '<home></home>'\n    })\n    .state('app.favorit', {\n      url: '/favorit',\n      template: '<favorit></favorit>'\n    })\n    .state('app.movie', {\n      url: '/movie/:movieId', // fragment url stocké dans movieId\n      template: '<movie></movie>'\n    });\n}\n"],"sourceRoot":"/source/"}