function capitalize(){return function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}}function movieController(e,t){var i=this;i.text=e.movieId,t.get("https://amc.ig.he-arc.ch/tmdb/movie/"+e.movieId+"?language=fr").then(function(e){i.movie=e.data}),t.get("https://amc.ig.he-arc.ch/tmdb/movie/"+e.movieId+"/release_dates").then(function(e){i.movieReleaseDate=e.data})}function routesConfig(e,t,i){i.html5Mode(!1).hashPrefix("!"),t.otherwise("/"),e.state("app",{template:"<app></app>"}).state("app.home",{url:"/",template:"<home></home>"}).state("app.favorit",{url:"/favorit",template:"<favorit></favorit>"}).state("app.movie",{url:"/movie/:movieId",template:"<movie></movie>"})}routesConfig.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],movieController.$inject=["$stateParams","$http"],angular.module("app",["ui.router","ngFlag"]),angular.module("app").service("Save",function(){var e=this;e.save=function(e){var t=JSON.stringify(e);localStorage.setItem("saved",t)},e.load=function(){var e=localStorage.getItem("saved");return e?JSON.parse(e):[]},e.remove=function(t){e.liste=e.load();for(var i=0;i<e.liste.length;i++)e.liste[i].id===t.id&&e.liste.splice(i,1);e.save(e.liste)}}),angular.module("app").service("load",function(){var e=this;e.load=function(){var e=localStorage.getItem("saved");return e?JSON.parse(e):[]}}),angular.module("app").service("data",["Save",function(e){var t=this;t.liste=e.load(),t.toggle=function(i){t.liste=e.load(),t.hasMovie(i)?(e.remove(i),location.reload()):(t.liste.push(i),e.save(t.liste))},t.hasMovie=function(e){for(var i=0;i<t.liste.length;i++)if(t.liste[i].id===e.id)return!0;return!1}}]),angular.module("app").filter("capitalize",capitalize),angular.module("app").component("poster",{templateUrl:"app/poster.html",controller:["Save","load","data",function(e,t,i){var a=this;a.mInput="test",a.maListe=t.load(),a.ajouterAListe=function(e,t,a,n){var r={id:e,title:t,overview:a,poster:n};i.toggle(r)},a.suprimmerAListe=function(e){a.maListe.splice(e,1)},a.suprimmerAListe=function(e){a.maListe.splice(a.maListe.indexOf(e),1)}}],bindings:{movie:"<"}}),angular.module("app").component("movie",{templateUrl:"app/movie.html",controller:movieController}),angular.module("app").component("home",{templateUrl:"app/home.html",controller:["Save","load","$http",function(e,t,i){var a=this;i.get("https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr").then(function(e){a.movies=e.data.results}),a.maVariable="Hello",a.maListe=t.load(),a.ajouterAListe=function(){a.maListe.push(a.maVariable),e.save(a.maListe)},a.suprimmerAListe=function(e){a.maListe.splice(e,1)},a.suprimmerAListe=function(e){a.maListe.splice(a.maListe.indexOf(e),1)}}]}),angular.module("app").component("app",{templateUrl:"app/hello.html"}),angular.module("app").component("favorit",{templateUrl:"app/favorit.html",controller:["Save","load","$http",function(e,t,i){var a=this;i.get("https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr").then(function(e){a.movies=e.data.results}),a.maListe=t.load(),a.suprimmerAListe=function(e){a.maListe.splice(e,1)},a.suprimmerAListe=function(e){a.maListe.splice(a.maListe.indexOf(e),1)}}]}),angular.module("app").run(["$templateCache",function(e){e.put("app/favorit.html",'<h1>Vos favoris</h1>\n<div ng-repeat="movie in $ctrl.maListe track by $index" ng-if="$index % 3 == 0" class="row">\n    <div class="col-md-4"><poster movie="{index:$index, id:$ctrl.maListe[$index].id, poster_path:$ctrl.maListe[$index].poster, overview:$ctrl.maListe[$index].overview, title:$ctrl.maListe[$index].title}"></poster></div>\n    <div class="col-md-4" ng-if="$ctrl.maListe.length > ($index + 1)"><poster movie="{id:$ctrl.maListe[$index+1].id, poster_path:$ctrl.maListe[$index+1].poster, overview:$ctrl.maListe[$index+1].overview, title:$ctrl.maListe[$index+1].title}"></poster></div>\n    <div class="col-md-4" ng-if="$ctrl.maListe.length > ($index + 2)"><poster movie="{id:$ctrl.maListe[$index+2].id, poster_path:$ctrl.maListe[$index+2].poster, overview:$ctrl.maListe[$index+2].overview, title:$ctrl.maListe[$index+2].title}"></poster></div>\n</div>\n'),e.put("app/hello.html","<ui-view></ui-view>\n"),e.put("app/home.html",'<h1>Film à venir</h1>\n    <div ng-repeat="m in $ctrl.movies | filter:$ctrl.searchText track by $index " ng-if="$index % 3 == 0" class="row">\n        <div class="col-md-4"><poster movie="{index:$index, id:$ctrl.movies[$index].id, poster_path:$ctrl.movies[$index].poster_path, overview:$ctrl.movies[$index].overview, title:$ctrl.movies[$index].title}"></poster></div>\n        <div class="col-md-4" ng-if="$ctrl.movies.length > ($index + 1)"><poster movie="{id:$ctrl.movies[$index+1].id, poster_path:$ctrl.movies[$index+1].poster_path, overview:$ctrl.movies[$index+1].overview, title:$ctrl.movies[$index+1].title}"></poster></div>\n        <div class="col-md-4" ng-if="$ctrl.movies.length > ($index + 2)"><poster movie="{id:$ctrl.movies[$index+2].id, poster_path:$ctrl.movies[$index+2].poster_path, overview:$ctrl.movies[$index+2].overview, title:$ctrl.movies[$index+2].title}"></poster></div>\n    </div>\n'),e.put("app/liste.html",'<div class="row">\n  <div class="jumbotron">\n    <h1>Hello World!</h1>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md6">\n    <div class="form-group">\n      <input type="text" class="form-control" id="input" ng-model="$ctrl.maVariable">\n    </div>\n  </div>\n      <div class="col-md6">\n          <h2>Afficher</h2>\n        <p>\n          {{$ctrl.maVariable | capitalize}}\n        </p>\n        <p>\n          {{$ctrl.maListe}}\n        </p>\n        <ul>\n          <li ng-repeat="el in $ctrl.maListe track by $index">\n            <h1 ng-if="$index == $ctrl.maListe.length / 2">Je suis le milieu!</h1>\n            {{$index + 1}} {{el | capitalize}}\n\n          </li>\n        </ul>\n      </div>\n      <button ng-click="$ctrl.ajouterAListe()" class="btn btn-primary">Ajouter</button>\n</div>\n'),e.put("app/movie.html",'<div class="row">\n  <div class="col-md-3">\n <img onerror="this.src=\'http://loremflickr.com/185/252/sexygirl\'" ng-src="https://image.tmdb.org/t/p/w185/{{$ctrl.movie.poster_path}}" alt="Poster">\n  </div>\n  <div class="col-md-9">\n    <h1>{{$ctrl.movie.title}}</h1>\n    <h5>{{$ctrl.movie.original_title}}</h5>\n    <p><strong>Genre :</strong> <span ng-repeat="genre in $ctrl.movie.genres">{{genre.name}} </span></p>\n\n    <p>\n      <strong>Date de sortie : </strong> <br>\n      <span ng-repeat="result in $ctrl.movieReleaseDate.results">\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'FR\'">\n          <flag country="fr" size="16"></flag>\n          {{rdate.release_date | limitTo:10}} <br>\n        </span>\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'US\'">\n          <flag country="us" size="16"></flag>\n          {{rdate.release_date | limitTo:10}}  <br>\n        </span>\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'DE\'">\n          <flag country="de" size="16"></flag>\n          {{rdate.release_date | limitTo:10}} <br>\n        </span>\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'IT\'">\n          <flag country="it" size="16"></flag>\n          {{rdate.release_date | limitTo:10}}\n        </span>\n      </span>\n    </p>\n    <p><strong>Résumé : </strong>{{$ctrl.movie.overview}}</p>\n  </div>\n</div>\n'),e.put("app/poster.html",'<div class="poster thumbnail">\n  <a ui-sref="app.movie({movieId: $ctrl.movie.id})"> <img class="imgPoster img-thumbnail" onerror="this.src=\'http://loremflickr.com/185/252/sexygirl\'" ng-src="https://image.tmdb.org/t/p/w185{{$ctrl.movie.poster_path}}" alt="Poster"></a>\n    <button type="button" ng-click="$ctrl.ajouterAListe($ctrl.movie.id, $ctrl.movie.title,  $ctrl.movie.overview,  $ctrl.movie.poster_path)" class="btn btn-default" aria-label="Left Align">  <span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span></button>\n  <div class="caption">\n    <h3>{{$ctrl.movie.title | limitTo: 50 }}{{$ctrl.movie.title.length > 50 ? \'...\' : \'\'}}</h3>\n    <p class="desc">{{$ctrl.movie.overview | limitTo: 230 }}{{$ctrl.movie.overview.length > 230 ? \'...\' : \'\'}}</p>\n    </div>\n</div>\n')}]),angular.module("app").config(routesConfig);
//# sourceMappingURL=../maps/scripts/app-634ce32914.js.map
