{"version":3,"sources":["scripts/app.js"],"names":["Save","this","save","toBeSaved","toBeStored","JSON","stringify","localStorage","setItem","load","unString","getItem","parse","capitalize","text","toUpperCase","slice","toLowerCase","movieController","$stateParams","$http","$ctrl","movieId","get","then","result","movie","data","routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","hashPrefix","otherwise","state","template","url","$inject","angular","module","service","filter","component","templateUrl","controller","bindings","movies","results","maVariable","maListe","ajouterAListe","push","suprimmerAListe","$index","splice","el","indexOf","run","$templateCache","put","config"],"mappings":"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","file":"scripts/app-c21effae97.js","sourcesContent":["angular\n  .module('app', ['ui.router', 'ngFlag']);\n\nfunction Save() {\n  var Save = this;\n  Save.save = function (toBeSaved) {\n    var toBeStored = JSON.stringify(toBeSaved);\n    localStorage.setItem('saved', toBeStored);\n  };\n  Save.load = function () {\n    var unString = localStorage.getItem('saved');\n    if (unString) {\n      return JSON.parse(unString);\n    }\n    return [];\n  };\n}\n\nangular\n    .module('app')\n    .service('Save', Save);\n\n  function load() {\n    var load = this;\n    load.load = function () {\n      var unString = localStorage.getItem('saved');\n      if (unString) {\n        return JSON.parse(unString);\n      }\n      return [];\n    };\n  }\n\n  angular\n    .module('app')\n    .service('load', load);\n\nfunction capitalize() {\n  return function (text) {\n    return text[0].toUpperCase() + text.slice(1).toLowerCase();\n  };\n}\n\nangular\n  .module('app')\n  .filter('capitalize', capitalize);\n\n\nangular\n  .module('app')\n  .component('poster', {\n    templateUrl: 'app/poster.html',\n    controller: function posterControler() {\n    },\n    bindings: {\n      movie: '<'\n    }\n  });\n\nfunction movieController($stateParams, $http) {\n  var $ctrl = this;\n  $ctrl.text = $stateParams.movieId;\n  $http.get('https://amc.ig.he-arc.ch/tmdb/movie/' + $stateParams.movieId + '?language=fr')\n  .then(function (result) {\n    $ctrl.movie = result.data;\n  });\n}\n\nangular\n  .module('app')\n  .component('movie', {\n    templateUrl: 'app/movie.html',\n    controller: movieController\n  });\n\nangular\n  .module('app')\n  .component('home', {\n      // localStorage.removeItem('saved');\n    templateUrl: 'app/home.html',\n    controller: function (Save, load, $http) {\n      var $ctrl = this;\n      $http.get('https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr')\n      .then(function (result) {\n        $ctrl.movies = result.data.results;\n      });\n\n      $ctrl.maVariable = 'Hello';\n      $ctrl.maListe = load.load();\n\n      $ctrl.ajouterAListe = function () {\n        $ctrl.maListe.push($ctrl.maVariable);\n        Save.save($ctrl.maListe);\n      };\n\n      $ctrl.suprimmerAListe = function ($index) {\n        $ctrl.maListe.splice($index, 1);\n      };\n\n      $ctrl.suprimmerAListe = function (el) {\n        $ctrl.maListe.splice($ctrl.maListe.indexOf(el), 1);\n      };\n    }\n  });\n\nangular.module('app').component('app', {templateUrl: 'app/hello.html'});\n\nangular\n  .module('app')\n  .component('favorit', {\n    templateUrl: 'app/favorit.html',\n    controller: function favoritController(Save, load, $http) {\n      var $ctrl = this;\n      $http.get('https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr')\n      .then(function (result) {\n        $ctrl.movies = result.data.results;\n      });\n      $ctrl.maListe = load.load();\n\n      $ctrl.ajouterAListe = function () {\n        $ctrl.maListe.push($ctrl.maVariable);\n        Save.save($ctrl.maListe);\n      };\n\n      $ctrl.suprimmerAListe = function ($index) {\n        $ctrl.maListe.splice($index, 1);\n      };\n\n      $ctrl.suprimmerAListe = function (el) {\n        $ctrl.maListe.splice($ctrl.maListe.indexOf(el), 1);\n      };\n    }\n  });\n\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/favorit.html\",\"<div class=\\\"component\\\">\\n  <h2>{{$ctrl.text}}</h2>\\n</div>\");\n$templateCache.put(\"app/hello.html\",\"<ui-view></ui-view>\\n\");\n$templateCache.put(\"app/home.html\",\"<div class=\\\"row\\\">\\r\\n  <div class=\\\"jumbotron\\\">\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n<!--\\r\\n<div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md12\\\">\\r\\n        <ul>\\r\\n          <li ng-repeat=\\\"el in $ctrl.maListe track by $index\\\">\\r\\n        <a ui-sref=\\\"app.movie({movieId: el})\\\"> {{el | capitalize}} </a>\\r\\n    <span ng-click=\\\"$ctrl.suprimmerAListe(el)\\\" class=\\\"glyphicon glyphicon-trash\\\" aria-hidden=\\\"true\\\"></span>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n</div>\\r\\n-->\\r\\n<!--\\r\\n<div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md12\\\">\\r\\n        <poster ng-repeat=\\\"m in $ctrl.movies\\\" movie=\\\"{id:m.id, poster_path:m.poster_path}\\\"></poster>\\r\\n      </div>\\r\\n</div>\\r\\n-->\\r\\n\\r\\n    <div ng-repeat=\\\"m in $ctrl.movies\\\" ng-if=\\\"$index % 3 == 0\\\" class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-4\\\"><poster movie=\\\"{index:$index, id:$ctrl.movies[$index].id, poster_path:$ctrl.movies[$index].poster_path, overview:$ctrl.movies[$index].overview, title:$ctrl.movies[$index].title}\\\"></poster></div>\\r\\n        <div class=\\\"col-md-4\\\" ng-if=\\\"$ctrl.movies.length > ($index + 1)\\\"><poster movie=\\\"{id:$ctrl.movies[$index+1].id, poster_path:$ctrl.movies[$index+1].poster_path, overview:$ctrl.movies[$index+1].overview, title:$ctrl.movies[$index+1].title}\\\"></poster></div>\\r\\n        <div class=\\\"col-md-4\\\" ng-if=\\\"$ctrl.movies.length > ($index + 2)\\\"><poster movie=\\\"{id:$ctrl.movies[$index+2].id, poster_path:$ctrl.movies[$index+2].poster_path, overview:$ctrl.movies[$index+2].overview, title:$ctrl.movies[$index+2].title}\\\"></poster></div>\\r\\n    </div>\\r\\n\\r\\n<!--\\r\\n<div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md12\\\">\\r\\n        <ul>\\r\\n          <li ng-repeat=\\\"movie in $ctrl.movies\\\">\\r\\n            <a ui-sref=\\\"app.movie({movieId: movie.id})\\\">  <img  ng-src=\\\"http://image.tmdb.org/t/p/w185/{{movie.poster_path}}\\\" alt=\\\"Description\\\" /> </a>\\r\\n          </li>\\r\\n        </ul>\\r\\n      </div>\\r\\n</div>\\r\\n\\r\\n-->\\r\\n\");\n$templateCache.put(\"app/liste.html\",\"<div class=\\\"row\\\">\\n  <div class=\\\"jumbotron\\\">\\n    <h1>Hello World!</h1>\\n  </div>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-md6\\\">\\n    <div class=\\\"form-group\\\">\\n      <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"input\\\" ng-model=\\\"$ctrl.maVariable\\\">\\n    </div>\\n  </div>\\n      <div class=\\\"col-md6\\\">\\n          <h2>Afficher</h2>\\n        <!--  <p>{{$ctrl.capitalize($ctrl.maVariable)}}</p> -->\\n        <p>\\n          {{$ctrl.maVariable | capitalize}}\\n        </p>\\n        <p>\\n          {{$ctrl.maListe}}\\n        </p>\\n        <ul>\\n          <li ng-repeat=\\\"el in $ctrl.maListe track by $index\\\">\\n            <h1 ng-if=\\\"$index == $ctrl.maListe.length / 2\\\">Je suis le milieu!</h1>\\n            {{$index + 1}} {{el | capitalize}}\\n\\n          </li>\\n        </ul>\\n      </div>\\n      <button ng-click=\\\"$ctrl.ajouterAListe()\\\" class=\\\"btn btn-primary\\\">Ajouter</button>\\n</div>\\n\");\n$templateCache.put(\"app/movie.html\",\"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-3\\\">\\r\\n <img onerror=\\\"this.src=\\'http://loremflickr.com/185/252/sexygirl\\'\\\" ng-src=\\\"https://image.tmdb.org/t/p/w185/{{$ctrl.movie.poster_path}}\\\" alt=\\\"Poster\\\">\\r\\n  </div>\\r\\n  <div class=\\\"col-md-9\\\">\\r\\n    <h1>{{$ctrl.movie.title}}</h1>\\r\\n    <h5>{{$ctrl.movie.original_title}}</h5>\\r\\n    <p><strong>Genre :</strong> <span ng-repeat=\\\"genre in $ctrl.movie.genres\\\">{{genre.name}} </span></p>\\r\\n    <p><strong>Date de sortie : </strong>{{$ctrl.movie.release_date}}</p>\\r\\n    <p><strong>Résumé : </strong>{{$ctrl.movie.overview}}</p>\\r\\n    <flag country=\\\"us\\\" size=\\\"16\\\"></flag>\\r\\n  </div>\\r\\n</div>\\r\\n\");\n$templateCache.put(\"app/poster.html\",\"<!--\\r\\n <div class=\\\"poster\\\">\\r\\n      <a ui-sref=\\\"app.movie({movieId: $ctrl.movie.id})\\\"> <img  ng-src=\\\"http://image.tmdb.org/t/p/w185/{{$ctrl.movie.poster_path}}\\\" alt=\\\"Description\\\" /></a>\\r\\n</div>\\r\\n-->\\r\\n\\r\\n<div class=\\\"poster thumbnail\\\">\\r\\n  <a ui-sref=\\\"app.movie({movieId: $ctrl.movie.id, movieTitle: $ctrl.movie.title, MIndex:$ctrl.movie.index })\\\"> <img class=\\\"imgPoster\\\" onerror=\\\"this.src=\\'http://loremflickr.com/185/252/sexygirl\\'\\\" ng-src=\\\"https://image.tmdb.org/t/p/w185/{{$ctrl.movie.poster_path}}\\\" alt=\\\"Poster\\\"></a>\\r\\n  <div class=\\\"caption\\\">\\r\\n    <h3>{{$ctrl.movie.title | limitTo: 50 }}{{$ctrl.movie.title.length > 50 ? \\'...\\' : \\'\\'}}</h3>\\r\\n    <p class=\\\"desc\\\">{{$ctrl.movie.overview | limitTo: 230 }}{{$ctrl.movie.overview.length > 230 ? \\'...\\' : \\'\\'}}</p>\\r\\n  </div>\\r\\n</div>\\r\\n\");}]);\nangular\n  .module('app')\n  .config(routesConfig);\n\n/** @ngInject */\nfunction routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n  $locationProvider.html5Mode(true).hashPrefix('!');\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n    .state('app', {\n      template: '<app></app>'\n    })\n    .state('app.home', {\n      url: '/',\n      template: '<home></home>'\n    })\n    .state('app.favorit', {\n      url: '/favorit',\n      template: '<favorit></favorit>'\n    })\n    .state('app.movie', {\n      url: '/movie/:movieId', // fragment url stocké dans movieId\n      template: '<movie></movie>'\n    });\n}\n"],"sourceRoot":"/source/"}