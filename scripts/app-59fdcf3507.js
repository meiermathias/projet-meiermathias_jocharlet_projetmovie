function capitalize(){return function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}}function movieController(e,t){var i=this;i.text=e.movieId,t.get("https://amc.ig.he-arc.ch/tmdb/movie/"+e.movieId+"?language=fr").then(function(e){i.movie=e.data}),t.get("https://amc.ig.he-arc.ch/tmdb/movie/"+e.movieId+"/release_dates").then(function(e){i.movieReleaseDate=e.data})}function routesConfig(e,t,i){i.html5Mode(!1).hashPrefix("!"),t.otherwise("/"),e.state("app",{template:"<app></app>"}).state("app.home",{url:"/",template:"<home></home>"}).state("app.favorit",{url:"/favorit",template:"<favorit></favorit>"}).state("app.movie",{url:"/movie/:movieId",template:"<movie></movie>"})}routesConfig.$inject=["$stateProvider","$urlRouterProvider","$locationProvider"],movieController.$inject=["$stateParams","$http"],angular.module("app",["ui.router","ngFlag"]),angular.module("app").service("Save",function(){var e=this;e.save=function(e){var t=JSON.stringify(e);localStorage.setItem("saved",t)},e.load=function(){var e=localStorage.getItem("saved");return e?JSON.parse(e):[]},e.remove=function(t){e.liste=e.load();for(var i=0;i<e.liste.length;i++)e.liste[i].id===t.id&&e.liste.splice(i,1);e.save(e.liste)}}),angular.module("app").service("load",function(){var e=this;e.load=function(){var e=localStorage.getItem("saved");return e?JSON.parse(e):[]}}),angular.module("app").service("data",["Save",function(e){var t=this;t.liste=e.load(),t.toggle=function(i){t.liste=e.load(),t.hasMovie(i)?e.remove(i):(t.liste.push(i),e.save(t.liste))},t.hasMovie=function(e){for(var i=0;i<t.liste.length;i++)if(t.liste[i].id===e.id)return!0;return!1}}]),angular.module("app").filter("capitalize",capitalize),angular.module("app").component("poster",{templateUrl:"app/poster.html",controller:["Save","load","data",function(e,t,i){var r=this;r.mInput="test",r.maListe=t.load(),r.ajouterAListe=function(e,t,r,n){var a={id:e,title:t,overview:r,poster:n};i.toggle(a)},r.suprimmerAListe=function(e){r.maListe.splice(e,1)},r.suprimmerAListe=function(e){r.maListe.splice(r.maListe.indexOf(e),1)}}],bindings:{movie:"<"}}),angular.module("app").component("movie",{templateUrl:"app/movie.html",controller:movieController}),angular.module("app").component("home",{templateUrl:"app/home.html",controller:["Save","load","$http",function(e,t,i){var r=this;i.get("https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr").then(function(e){r.movies=e.data.results}),r.maVariable="Hello",r.maListe=t.load(),r.ajouterAListe=function(){r.maListe.push(r.maVariable),e.save(r.maListe)},r.suprimmerAListe=function(e){r.maListe.splice(e,1)},r.suprimmerAListe=function(e){r.maListe.splice(r.maListe.indexOf(e),1)}}]}),angular.module("app").component("app",{templateUrl:"app/hello.html"}),angular.module("app").component("favorit",{templateUrl:"app/favorit.html",controller:["Save","load","$http",function(e,t,i){var r=this;i.get("https://amc.ig.he-arc.ch/tmdb/movie/upcoming?language=fr").then(function(e){r.movies=e.data.results}),r.maListe=t.load(),r.suprimmerAListe=function(e){r.maListe.splice(e,1)},r.suprimmerAListe=function(e){r.maListe.splice(r.maListe.indexOf(e),1)}}]}),angular.module("app").run(["$templateCache",function(e){e.put("app/favorit.html",'<h1>Vos favoris</h1>\r\n<div ng-repeat="movie in $ctrl.maListe track by $index" ng-if="$index % 3 == 0" class="row">\r\n    <div class="col-md-4"><poster movie="{index:$index, id:$ctrl.maListe[$index].id, poster_path:$ctrl.maListe[$index].poster, overview:$ctrl.maListe[$index].overview, title:$ctrl.maListe[$index].title}"></poster></div>\r\n    <div class="col-md-4" ng-if="$ctrl.maListe.length > ($index + 1)"><poster movie="{id:$ctrl.maListe[$index+1].id, poster_path:$ctrl.maListe[$index+1].poster, overview:$ctrl.maListe[$index+1].overview, title:$ctrl.maListe[$index+1].title}"></poster></div>\r\n    <div class="col-md-4" ng-if="$ctrl.maListe.length > ($index + 2)"><poster movie="{id:$ctrl.maListe[$index+2].id, poster_path:$ctrl.maListe[$index+2].poster, overview:$ctrl.maListe[$index+2].overview, title:$ctrl.maListe[$index+2].title}"></poster></div>\r\n</div>\r\n'),e.put("app/hello.html","<ui-view></ui-view>\n"),e.put("app/home.html",'<div class="row">\r\n  <div class="jumbotron">\r\n <label>Recherche: <input ng-model="$ctrl.searchText"></label>\r\n  </div>\r\n</div>\r\n\r\n<!--\r\n<div class="row">\r\n      <div class="col-md12">\r\n        <poster ng-repeat="m in $ctrl.movies" movie="{id:m.id, poster_path:m.poster_path}"></poster>\r\n      </div>\r\n</div>\r\n-->\r\n    <div ng-repeat="m in $ctrl.movies | filter:$ctrl.searchText track by $index " ng-if="$index % 3 == 0" class="row">\r\n        <div class="col-md-4"><poster movie="{index:$index, id:$ctrl.movies[$index].id, poster_path:$ctrl.movies[$index].poster_path, overview:$ctrl.movies[$index].overview, title:$ctrl.movies[$index].title}"></poster></div>\r\n        <div class="col-md-4" ng-if="$ctrl.movies.length > ($index + 1)"><poster movie="{id:$ctrl.movies[$index+1].id, poster_path:$ctrl.movies[$index+1].poster_path, overview:$ctrl.movies[$index+1].overview, title:$ctrl.movies[$index+1].title}"></poster></div>\r\n        <div class="col-md-4" ng-if="$ctrl.movies.length > ($index + 2)"><poster movie="{id:$ctrl.movies[$index+2].id, poster_path:$ctrl.movies[$index+2].poster_path, overview:$ctrl.movies[$index+2].overview, title:$ctrl.movies[$index+2].title}"></poster></div>\r\n    </div>\r\n\r\n<!--\r\n<div class="row">\r\n      <div class="col-md12">\r\n        <ul>\r\n          <li ng-repeat="movie in $ctrl.movies">\r\n            <a ui-sref="app.movie({movieId: movie.id})">  <img  ng-src="http://image.tmdb.org/t/p/w185/{{movie.poster_path}}" alt="Description" /> </a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n</div>\r\n\r\n-->\r\n'),e.put("app/liste.html",'<div class="row">\n  <div class="jumbotron">\n    <h1>Hello World!</h1>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md6">\n    <div class="form-group">\n      <input type="text" class="form-control" id="input" ng-model="$ctrl.maVariable">\n    </div>\n  </div>\n      <div class="col-md6">\n          <h2>Afficher</h2>\n        <!--  <p>{{$ctrl.capitalize($ctrl.maVariable)}}</p> -->\n        <p>\n          {{$ctrl.maVariable | capitalize}}\n        </p>\n        <p>\n          {{$ctrl.maListe}}\n        </p>\n        <ul>\n          <li ng-repeat="el in $ctrl.maListe track by $index">\n            <h1 ng-if="$index == $ctrl.maListe.length / 2">Je suis le milieu!</h1>\n            {{$index + 1}} {{el | capitalize}}\n\n          </li>\n        </ul>\n      </div>\n      <button ng-click="$ctrl.ajouterAListe()" class="btn btn-primary">Ajouter</button>\n</div>\n'),e.put("app/movie.html",'<div class="row">\r\n  <div class="col-md-3">\r\n <img onerror="this.src=\'http://loremflickr.com/185/252/sexygirl\'" ng-src="https://image.tmdb.org/t/p/w185/{{$ctrl.movie.poster_path}}" alt="Poster">\r\n  </div>\r\n  <div class="col-md-9">\r\n    <h1>{{$ctrl.movie.title}}</h1>\r\n    <h5>{{$ctrl.movie.original_title}}</h5>\r\n    <p><strong>Genre :</strong> <span ng-repeat="genre in $ctrl.movie.genres">{{genre.name}} </span></p>\r\n\r\n    <p>\r\n      <strong>Date de sortie : </strong> <br>\r\n      <span ng-repeat="result in $ctrl.movieReleaseDate.results">\r\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'FR\'">\r\n          <flag country="fr" size="16"></flag>\r\n          {{rdate.release_date | limitTo:10}} <br>\r\n        </span>\r\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'US\'">\r\n          <flag country="us" size="16"></flag>\r\n          {{rdate.release_date | limitTo:10}}  <br>\r\n        </span>\r\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'DE\'">\r\n          <flag country="de" size="16"></flag>\r\n          {{rdate.release_date | limitTo:10}} <br>\r\n        </span>\r\n        <span ng-repeat="rdate in result.release_dates" ng-if="result.iso_3166_1 == \'IT\'">\r\n          <flag country="it" size="16"></flag>\r\n          {{rdate.release_date | limitTo:10}} \r\n        </span>\r\n      </span>\r\n    </p>\r\n    <p><strong>Résumé : </strong>{{$ctrl.movie.overview}}</p>\r\n  </div>\r\n</div>\r\n<!-- {{result.iso_3166_1}} -->'),e.put("app/poster.html",'<div class="poster thumbnail">\r\n  <a ui-sref="app.movie({movieId: $ctrl.movie.id})"> <img class="imgPoster" onerror="this.src=\'http://loremflickr.com/185/252/sexygirl\'" ng-src="https://image.tmdb.org/t/p/w185{{$ctrl.movie.poster_path}}" alt="Poster"></a>\r\n      <span ng-click="$ctrl.ajouterAListe($ctrl.movie.id, $ctrl.movie.title,  $ctrl.movie.overview,  $ctrl.movie.poster_path)" class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>\r\n  <div class="caption">\r\n    <h3>{{$ctrl.movie.title | limitTo: 50 }}{{$ctrl.movie.title.length > 50 ? \'...\' : \'\'}}</h3>\r\n    <p class="desc">{{$ctrl.movie.overview | limitTo: 230 }}{{$ctrl.movie.overview.length > 230 ? \'...\' : \'\'}}</p>\r\n    </div>\r\n</div>\r\n')}]),angular.module("app").config(routesConfig);
//# sourceMappingURL=../maps/scripts/app-59fdcf3507.js.map
